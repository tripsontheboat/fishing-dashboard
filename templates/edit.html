{% extends "base.html" %}
{% block content %}

<h1>Edit Entry</h1>

<div class="form-card">
    <form method="POST" enctype="multipart/form-data">

        <!-- Date -->
        <div class="form-row">
            <label>Date:</label>
            <input type="date" name="date" value="{{ row.date }}" required>
        </div>

        <!-- Location -->
        <div class="form-row">
            <label>Location:</label>
            <input type="text" name="location" value="{{ row.location }}" required>
        </div>

        <!-- Species -->
        <div class="form-row">
            <label>Species:</label>
            <input type="text" name="species" value="{{ row.species }}" required>
        </div>

        <!-- Count -->
        <div class="form-row">
            <label>Count:</label>
            <input type="number" name="count" min="1" value="{{ row.count }}">
        </div>

        <!-- Bait -->
        <div class="form-row">
            <label>Bait:</label>
            <input type="text" name="bait" value="{{ row.bait }}">
        </div>

        <!-- Size -->
        <div class="form-row">
            <label>Size:</label>
            <input type="text" name="size" value="{{ row.size }}">
        </div>

        <!-- Water Type -->
        <div class="form-row">
            <label>Water Type:</label>
            <select name="water">
                <option value="Saltwater" {% if row.water == "Saltwater" %}selected{% endif %}>Saltwater</option>
                <option value="Freshwater" {% if row.water == "Freshwater" %}selected{% endif %}>Freshwater</option>
            </select>
        </div>

        <!-- Platform -->
        <div class="form-row">
            <label>Platform:</label>
            <select name="platform">
                <option value="Boat" {% if row.platform == "Boat" %}selected{% endif %}>Boat</option>
                <option value="Shore" {% if row.platform == "Shore" %}selected{% endif %}>Shore</option>
                <option value="Dock" {% if row.platform == "Dock" %}selected{% endif %}>Dock</option>
            </select>
        </div>

        <!-- Water Temp -->
        <div class="form-row">
            <label>Water Temp (Â°F):</label>
            <input type="text" name="water_temp" value="{{ row.water_temp }}">
        </div>

        <!-- Wind -->
        <div class="form-row">
            <label>Wind:</label>
            <input type="text" name="wind" value="{{ row.wind }}">
        </div>

        <!-- Wave Height -->
        <div class="form-row">
            <label>Wave Height:</label>
            <input type="text" name="wave_height" value="{{ row.wave_height }}">
        </div>

        <!-- Comments -->
        <div class="form-row">
            <label>Comments:</label>
            <textarea name="comments" rows="4">{{ row.comments }}</textarea>
        </div>

        <!-- Existing Image -->
        {% if row.image %}
        <div class="form-row">
            <label>Current Image:</label>
            <img src="{{ url_for('static', filename='uploads/' ~ row.image) }}" 
                 style="width:120px; border-radius:6px; margin-bottom:10px;">
        </div>
        {% endif %}

        <!-- Upload New Image -->
        <div class="form-row">
            <label>Replace Image:</label>
            <input type="file" name="image">
        </div>

        <!-- Latitude -->
        <div class="form-row">
            <label>Latitude:</label>
            <input type="text" name="lat" value="{{ row.lat }}">
        </div>

        <!-- Longitude -->
        <div class="form-row">
            <label>Longitude:</label>
            <input type="text" name="lng" value="{{ row.lng }}">
        </div>

        <button type="submit" class="save-btn">Save Changes</button>
    </form>
</div>

{% endblock %}

